@{
    ViewData["Title"] = "Hồ sơ cá nhân";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@using System.Security.Claims

<section class="auth-section">
    <div class="container">
        <div class="auth-card text-center animate-on-scroll">

            <div style="margin-bottom: 20px;">
                <img src="~/images/hung.png" alt="Avatar"
                    style="width: 100px; height: 100px; border-radius: 50%; border: 4px solid #f35f2a;">
            </div>

            @* Lấy tên từ Cookie Authentication *@
            <h3>Xin chào, <span class="highlight">@User.Identity.Name</span>!</h3>

            @{
                var role = User.FindFirst(ClaimTypes.Role)?.Value ?? "Khách hàng";
                var fullName = User.FindFirst("FullName")?.Value ?? "Chưa cập nhật";
            }
            <p class="text-muted">Vai trò: @role</p>

            <div style="margin: 30px 0; text-align: left; background: #f9f9f9; padding: 20px; border-radius: 10px;">
                <p><strong><i class="fas fa-user"></i> Họ tên:</strong> @fullName</p>
                <p><strong><i class="fas fa-clock"></i> Trạng thái:</strong> Đang hoạt động</p>
            </div>

            @* SỬA: Logout về AccountController *@
            <a href="@Url.Action("Logout", "Account")" class="btn btn-large" style="background: #333;">
                <i class="fas fa-sign-out-alt"></i> Đăng xuất
            </a>

            @if (role == "Admin")
            {
                <a href="@Url.Action("Index", "FastFood", new { area = "" })" class="btn btn-large shine-effect">
                    <i class="fas fa-cogs"></i> Quản lý Admin
                </a>
            }
            else
            {
                <a href="@Url.Action("Index", "Home")" class="btn btn-large shine-effect">
                    <i class="fas fa-hamburger"></i> Đặt món ngay
                </a>
            }

        </div>
    </div>
</section>